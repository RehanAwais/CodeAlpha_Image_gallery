<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Creative Glass Gallery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>✨ Image Gallery ✨</h1>

        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="people">People</button>
            <button class="filter-btn" data-filter="nature">Nature</button>
            <button class="filter-btn" data-filter="city">City</button>
            <button class="filter-btn" data-filter="animals">Animals</button>
            <button class="filter-btn" data-filter="food">Food</button>
            <button class="filter-btn" data-filter="art">Art</button>
        </div>

        <div class="gallery" id="gallery"></div>
    </div>

    <!-- LIGHTBOX -->
    <div class="lightbox" id="lightbox">
        <span class="close" onclick="closeLightbox()">×</span>
        <button class="nav-btn prev-btn" onclick="prevImage()">←</button>
        <button class="nav-btn next-btn" onclick="nextImage()">→</button>
        <img id="lightboxImg">
    </div>

    <script>
        const images = [
            { src: 'IMAGES/SHORT.JPG', title: 'Rehan Awais', cat: 'people' },
            { src: 'IMAGES/6.JPG', title: 'City Lights', cat: 'city' },
            { src: 'IMAGES/7.JPG', title: 'Puppy', cat: 'animals' },
            { src: 'IMAGES/8.JPG', title: 'Portrait', cat: 'people' },
            { src: 'IMAGES/9.JPG', title: 'Forest Path', cat: 'nature' },
            { src: 'IMAGES/4.JPG', title: 'Urban Street', cat: 'city' },
            { src: 'IMAGES/11.JPG', title: 'Fox', cat: 'animals' },
            { src: 'IMAGES/12.JPG', title: 'Man Portrait', cat: 'people' },
            { src: 'IMAGES/13.JPG', title: 'Waterfall', cat: 'nature' },
            { src: 'IMAGES/14.JPG', title: 'Watercolor', cat: 'art' },
            { src: 'IMAGES/15.JPG', title: 'Leopard', cat: 'animals' },
            { src: 'IMAGES/16.JPG', title: 'Sushi', cat: 'food' },
            { src: 'IMAGES/17.JPG', title: 'Forest Path 2', cat: 'nature' },
            { src: 'IMAGES/18.JPG', title: 'Mural', cat: 'art' },
            { src: 'IMAGES/19.JPG', title: 'Monkey', cat: 'animals' },
            { src: 'IMAGES/20.JPG', title: 'Smiling Man', cat: 'people' },
            { src: 'IMAGES/21.JPG', title: 'Gourmet Dish', cat: 'food' },
            { src: 'IMAGES/22.JPG', title: 'Modern Art', cat: 'art' },
            { src: 'IMAGES/23.JPG', title: 'Woman Portrait', cat: 'people' },
            { src: 'IMAGES/24.JPG', title: 'Ice Cream', cat: 'food' },
            { src: 'IMAGES/25.JPG', title: 'Museum Art', cat: 'art' },
            { src: 'IMAGES/5.JPG', title: 'Skyscraper', cat: 'city' },
            { src: 'IMAGES/26.JPG', title: 'Pizza', cat: 'food' },
            { src: 'IMAGES/1.JPG', title: 'London City', cat: 'city' },
            { src: 'IMAGES/29.JPG', title: 'Mountain Sunset', cat: 'nature' },
            { src: 'IMAGES/28.JPG', title: 'Mountain Valley', cat: 'nature' }
        ];

        const gallery = document.getElementById('gallery');
        let currentFilter = 'all';
        let currentIndex = 0;
        let filteredImages = [];

        function loadGallery(filter = 'all') {
            gallery.innerHTML = '';
            currentFilter = filter;
            
            // Filter images based on selected category
            filteredImages = filter === 'all' 
                ? images 
                : images.filter(img => img.cat === filter);
            
            filteredImages.forEach((img, index) => {
                gallery.innerHTML += `
                <div class="gallery-item" onclick="openLightbox('${img.src}', ${index})">
                    <img src="${img.src}">
                    <div class="icon-bar">
                        <button class="icon-btn" onclick="event.stopPropagation();download('${img.src}')">⬇</button>
                        <button class="icon-btn" onclick="event.stopPropagation();this.innerText='❤️'">❤</button>
                    </div>
                    <div class="overlay">
                        <h3>${img.title}</h3>
                        <span class="badge">${img.cat}</span>
                    </div>
                </div>`;
            });
        }

        loadGallery();

        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.onclick = () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                loadGallery(btn.dataset.filter);
            };
        });

        function openLightbox(src, index) {
            currentIndex = index;
            document.getElementById('lightboxImg').src = src;
            document.getElementById('lightbox').classList.add('active');
            
            // Add keyboard event listener
            document.addEventListener('keydown', handleKeyDown);
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.removeEventListener('keydown', handleKeyDown);
        }

        function nextImage() {
            if (filteredImages.length === 0) return;
            
            currentIndex = (currentIndex + 1) % filteredImages.length;
            const imgElement = document.getElementById('lightboxImg');
            imgElement.style.opacity = 0;
            
            setTimeout(() => {
                imgElement.src = filteredImages[currentIndex].src;
                imgElement.style.opacity = 1;
            }, 150);
        }

        function prevImage() {
            if (filteredImages.length === 0) return;
            
            currentIndex = (currentIndex - 1 + filteredImages.length) % filteredImages.length;
            const imgElement = document.getElementById('lightboxImg');
            imgElement.style.opacity = 0;
            
            setTimeout(() => {
                imgElement.src = filteredImages[currentIndex].src;
                imgElement.style.opacity = 1;
            }, 150);
        }

        function handleKeyDown(e) {
            if (e.key === 'ArrowRight') {
                nextImage();
            } else if (e.key === 'ArrowLeft') {
                prevImage();
            } else if (e.key === 'Escape') {
                closeLightbox();
            }
        }

        function download(src) {
            const a = document.createElement('a');
            a.href = src;
            a.download = '';
            a.click();
        }

        // Close lightbox when clicking outside the image
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this || e.target.classList.contains('close')) {
                closeLightbox();
            }
        });
    </script>
</body>
</html>